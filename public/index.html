<!DOCTYPE html>
<html lang="ru">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Тестирование push-уведомлений.</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/5.11.1/firebase.js"></script>

    <style>
      .center {
        display: block;
        margin: 0 auto;
      }

      .jumbotron {
        font-size: 70%;
        width: 340px;
      }

      .push-text-block {
        width: 190px;
        white-space: nowrap;
        /* Запрещаем перенос строк */
        overflow: hidden;
        /* Обрезаем все, что не помещается в область */
        text-overflow: ellipsis;
        /* Добавляем многоточие */
      }

      .alert p {
        word-wrap: break-word;
      }
    </style>
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light shadow mb-5 rounded" style="background-color: #e3f2fd;">
        <a class="navbar-brand" href="index.html">Push.world.test</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor03">
        </div>
      </nav>
    </header>
    <div class="container">
      <div class="row">
        <div class="col-lg-7">
          <form id="form1">
            <button type="submit" class="btn btn-secondary rounded-0 btn-lg btn-block mb-5" id="subscribe">Subscribe</button>
          </form>
          <div class="alert alert-success fade show d-none" role="alert">
            <p></p>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" id="deleet_token">
              <span aria-hidden="true" style="font-size: 40%;">Удалить токен &times;</span>
            </button>
          </div>
          <div class="row">
          <div class="col-lg-6">
            <div class="alert alert-info fade show" role="alert">
              <a href="tel:+79686233653">Позвонить</a><small class="text-muted"> tel</small>
            </div>
            <div class="alert alert-info fade show" role="alert">
              <a href="intent://send/+79686233653#Intent;scheme=smsto;package=com.whatsapp;action=android.intent.action.SENDTO;end">Сообщение</a><small class="text-muted"> intent://send/+7968</small>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="alert alert-info fade show" role="alert">
              <a href="intent://send/79686233653#Intent;scheme=smsto;package=com.whatsapp;action=android.intent.action.SENDTO;end">Сообщение</a><small class="text-muted"> intent://send/7968</small>
            </div>
            <div class="alert alert-info fade show" role="alert">
              <a href="intent://send/https://wa.me/79686233653#Intent;scheme=smsto;package=com.whatsapp;action=android.intent.action.SENDTO;end">Сообщение</a><small class="text-muted"> https://wa.me/7968</small>
            </div>
          </div>
          </div>
          <form id="form2">
            <label><b>Основные поля:</b></label>
            <div class="form-group">
              <label for="heading">Заголовок</label>
              <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="title" aria-describedby="titleHelp" placeholder="title" required value="title">
            </div>
            <div class="form-group">
              <label for="message">Текст уведомления</label>
              <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="message" aria-describedby="messageHelp" placeholder="body" value="body">
            </div>
            <div class="form-group">
              <label for="basic-url">Адрес клика по пушу</label>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text rounded-0">URL:</span>
                </div>
                <input type="url" class="form-control rounded-0 border-top-0 border-right-0" id="basic-url" style="background-color: inherit;" value="https://yandex.ru">
              </div>
            </div>
            <div class="form-group">
              <label for="url-icon">Адрес иконки</label>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text rounded-0">URL:</span>
                </div>
                <input type="url" class="form-control rounded-0 border-top-0 border-right-0" id="url-icon" value="https://storage.dev.push.world/images/d4f8f700/99bf/11e9/ba9d/2fd835a21424.webp">
                <!--<button type="button" class="btn btn-outline-secondary rounded-0 ml-1" id="loadPush-Img">Load</button>-->
              </div>
            </div>
            <div class="form-group" id="img-option2">
              <label for="basic-url-img">Адрес картинки</label>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text rounded-0">URL:</span>
                </div>
                <input type="url" class="form-control rounded-0 border-top-0 border-right-0" id="img" value="https://storage.dev.push.world/images/6efd13f0/99c4/11e9/8a20/5bc9deae4af0.webp">
              </div>
            </div>
            <div class="form-group">
              <div class="accordion" id="accordionExample">
                <!--<div class="card">
                  <div class="card-header pl-0" id="headingOne">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        Add selector in text
                      </button>
                    </h5>
                  </div>

                  <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                    <div class="card-body">
                      <div class="form-group">
                        <label for="heading">Heading selector</label>
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0 border-left-0" id="heading" aria-describedby="headingHelp" placeholder="Enter selector">
                        <small id="headingHelp" class="form-text text-muted">Please, input heading selector.</small>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" name="inlineRadioOptions" id="CheckboxAddToTitle" value="option2">
                        <label class="form-check-label" for="CheckboxAddToTitle">Add to Title</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" name="inlineRadioOptions" id="CheckboxAddToMessage" value="option3">
                        <label class="form-check-label" for="CheckboxAddToMessage">Add to Message</label>
                      </div>
                      <button type="submit" class="btn btn-outline-secondary rounded-0 mb-1" id="addSelector">Add</button>
                    </div>
                  </div>
                </div>-->
                
                
                <div class="card border-bottom">
                  <div class="card-header pl-0" id="headingTwo">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Кнопки
                      </button>
                    </h5>
                  </div>

                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                    <div class="card-body">
                      <div class="form-group">
                       
                        <div class="form-group">
                          <label>Кнопка 1</label>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b1-title" placeholder="title" value="Позвонить">
                          <small class="form-text text-muted">Название</small>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b1-icon" placeholder="url icon" value="">
                          <small class="form-text text-muted">Иконка</small>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b1-url" placeholder="url" value="tel:+79686233653">
                          <small class="form-text text-muted">Адрес перехода</small>
                        </div>
                        
                        <div class="form-group">
                          <label>Кнопка 2</label>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b2-title" placeholder="title" value="Написать">
                          <small class="form-text text-muted">Название</small>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b2-icon" placeholder="url icon" value="">
                          <small class="form-text text-muted">Иконка</small>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="b2-url" value="intent://send/https://wa.me/79686233653#Intent;scheme=smsto;package=com.whatsapp;action=android.intent.action.SENDTO;end">
                          <small class="form-text text-muted">Адрес перехода</small>
                        </div>
                        
                        <!--<div class="form-check form-check-inline">
                          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked>
                          <label class="form-check-label" for="inlineRadio1">Selector img</label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                          <label class="form-check-label" for="inlineRadio2">Default img</label>
                        </div>
                        <div class="form-group" id="img-option1">
                          <label for="heading">Img selector</label>
                          <input type="text" class="form-control rounded-0 border-top-0 border-right-0 border-left-0" id="img1" aria-describedby="ImgHelp" placeholder="Enter selector" name="img1">
                          <small id="headingHelp" class="form-text text-muted">Please, input heading selector.</small>
                        </div>
                        <div class="form-group d-none" id="img-option2">
                          <label for="basic-url-img">Input URL address img</label>
                          <div class="input-group mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text rounded-0">URL:</span>
                            </div>
                            <input type="url" class="form-control rounded-0 border-top-0 border-right-0" id="img2">
                          </div>
                        </div>
                        <div class="alert alert-danger d-none" role="alert" id="img-error">
                          Error!
                        </div>
                        <div class="form-group" id="option-img">
                        </div>-->
                      </div>
                    </div>
                  </div>
                </div>

                <div class="card border-bottom">
                  <div class="card-header pl-0" id="headingThree">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Дополнительные поля
                      </button>
                    </h5>
                  </div>

                  <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                    <div class="card-body">
                      <div class="form-group">
                        <small><a href="https://developer.mozilla.org/ru/docs/Web/API/notification">https://developer.mozilla.org/ru/docs/Web/API/notification</a></small>
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p1-color" aria-describedby="colorHelp" placeholder="color">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p2-sound" aria-describedby="soundHelp" placeholder="sound">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p3-tag" aria-describedby="tagHelp" placeholder="tag">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p4-badge" aria-describedby="badgeHelp" placeholder="badge">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p5-renotify" aria-describedby="renotifyHelp" placeholder="renotify (boolean)">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p6-silent" aria-describedby="silentHelp" placeholder="silent (boolean)">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p7-timestamp" aria-describedby="timestampHelp" placeholder="timestamp">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p8-noscreen" aria-describedby="noscreenHelp" placeholder="noscreen (не поддерживается? boolean)">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p9-sticky" aria-describedby="stickyHelp" placeholder="sticky (не поддерживается? boolean)">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p10-requireInteraction" aria-describedby="requireInteractionHelp" placeholder="requireInteraction (boolean)">
                        <input type="text" class="form-control rounded-0 border-top-0 border-right-0" id="p11-timeout" aria-describedby="timeoutHelp" placeholder="timeout">
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="card border-bottom">
                  <div class="card-header pl-0" id="headingFore">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFore" aria-expanded="false" aria-controls="collapseFore">
                        Код showNotification
                      </button>
                    </h5>
                  </div>

                  <div id="collapseFore" class="collapse" aria-labelledby="headingFore" data-parent="#accordionExample">
                    <div class="card-body">
                      <div class="form-group">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" name="inlineRadioOptions" id="CheckboxSN">
                          <label class="form-check-label" for="CheckboxSN">Использовать эти параметры const showBody = {...}</label>
                        </div>
                        <textarea id="SN" disabled style="height: 200px; width: -webkit-fill-available;"></textarea>
   
                      </div>  
                    </div>
                  </div>
                </div>
              </div>

            </div>

            <small id="CheckPushHelp" class="text-danger">Subscribe first.</small>
            <button type="submit" class="btn btn-outline-primary rounded-0 center mb-3" id="send-form" form="form2" disabled>Check push</button>
          </form>
        </div>
        <!--<div class="col">
          <div class="jumbotron jumbotron-fluid p-3 shadow mb-5 rounded">
            <div class="container">
              <div class="row">
                <img src="" width="100" height="100" alt="icon" id="push-icon">
                <div class="col pr-0">
                  <h5 class="display text-break" id="push-title" placeholder="Enter title"></h5>
                  <p id="push-message" class="push-text-block text-break"></p>
                  <a href="https://push.world" id="push-url" class="text-black-50">push.world</a>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-lg pl-0 pr-0">
                  <img src="img/test.jpg" width="310" height="250" alt="image" id="push-img">
                </div>
              </div>
            </div>
          </div>
        </div>-->
      </div>
      <div class="row">
        <div id="token_div" style="display: none;">
          <h4>Instance ID Token</h4>
          <p id="token" style="word-break: break-all;"></p>
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="deleteToken()">Delete Token</button>
        </div>
        <!-- div to display the UI to allow the request for permission to
notify the user. This is shown if the app has not yet been
granted permission to notify. -->
        <div id="permission_div" style="display: none;">
          <h4>Needs Permission</h4>
          <p id="token"></p>
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="requestPermission()">Request Permission</button>
        </div>
        <!-- div to display messages received by this app. -->
        <div id="messages"></div>
      </div>
    </div>
    <footer>
      <div class="p-5 mt-5 btn-secondary"></div>
    </footer>
    <script src="main.js"></script>
    <script src="firebase_subscribe.js"></script>
  </body></html>
